var t=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e=function(t){return Array.isArray(t)},i=function(e,a){for(var s in a)if(a.hasOwnProperty(s)){var n=a[s];n&&t(n)?(e[s]=e[s]||{},i(e[s],n)):e[s]=n}return e},a=function(e,i,a){var s;if(t(e))for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&i.call(a,e[s],s);else for(s=0;s<e.length;s++)i.call(a,e[s],s)},s=function(t,e,i){t.addEventListener(e,i,!1)},n=function(t,e){var i,a=document.createElement(t);if(e&&"object"==typeof e)for(i in e)"html"===i?a.innerHTML=e[i]:a.setAttribute(i,e[i]);return a},r=function(t,e){if(t instanceof NodeList)a(t,function(t){r(t,e)});else if(e)for(;t.hasChildNodes();)t.removeChild(t.firstChild);else t.innerHTML=""},o=function(t,e,i){return n("li",{class:t,html:'<a href="#" data-page="'+e+'">'+i+"</a>"})},l={add:function(t,e){t.classList?t.classList.add(e):l.contains(t,e)||(t.className=t.className.trim()+" "+e)},remove:function(t,e){t.classList?t.classList.remove(e):l.contains(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," "))},contains:function(t,e){if(t)return t.classList?t.classList.contains(e):!!t.className&&!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}},h=function(t,e){var i,a;1===e?(i=0,a=t.length):-1===e&&(i=t.length-1,a=-1);for(var s=!0;s;){s=!1;for(var n=i;n!=a;n+=e)if(t[n+e]&&t[n].value>t[n+e].value){var r=t[n],o=t[n+e],l=r;t[n]=o,t[n+e]=l,s=!0}}return t},d=function(t,e){return this.dt=t,this.rows=e,this};d.prototype.build=function(t){var e=n("tr"),i=this.dt.headings;return i.length||(i=t.map(function(){return""})),a(i,function(i,a){var s=n("td");t[a]&&t[a].length||(t[a]=""),s.innerHTML=t[a],s.data=t[a],e.appendChild(s)}),e},d.prototype.render=function(t){return t},d.prototype.add=function(t){if(e(t)){var i=this.dt;e(t[0])?a(t,function(t){i.data.push(this.build(t))},this):i.data.push(this.build(t)),i.data.length&&(i.hasRows=!0),this.update(),i.columns().rebuild()}},d.prototype.remove=function(t){var i=this.dt;e(t)?(t.sort(function(t,e){return e-t}),a(t,function(t){i.data.splice(t,1)})):i.data.splice(t,1),i.data.length||(i.hasRows=!1),this.update(),i.columns().rebuild()},d.prototype.update=function(){a(this.dt.data,function(t,e){t.dataIndex=e})};var c=function(t){return this.dt=t,this};c.prototype.swap=function(t){if(t.length&&2===t.length){var e=[];a(this.dt.headings,function(t,i){e.push(i)});var i=t[0],s=t[1],n=e[s];e[s]=e[i],e[i]=n,this.order(e)}},c.prototype.order=function(t){var e,i,s,n,r,o,l,h=[[],[],[],[]],d=this.dt;a(t,function(t,a){r=d.headings[t],o="false"!==r.getAttribute("data-sortable"),(e=r.cloneNode(!0)).originalCellIndex=a,e.sortable=o,h[0].push(e),d.hiddenColumns.includes(t)||((i=r.cloneNode(!0)).originalCellIndex=a,i.sortable=o,h[1].push(i))}),a(d.data,function(e,i){s=e.cloneNode(!1),n=e.cloneNode(!1),s.dataIndex=n.dataIndex=i,null!==e.searchIndex&&void 0!==e.searchIndex&&(s.searchIndex=n.searchIndex=e.searchIndex),a(t,function(t){(l=e.cells[t].cloneNode(!0)).data=e.cells[t].data,s.appendChild(l),d.hiddenColumns.includes(t)||((l=e.cells[t].cloneNode(!0)).data=e.cells[t].data,n.appendChild(l))}),h[2].push(s),h[3].push(n)}),d.headings=h[0],d.activeHeadings=h[1],d.data=h[2],d.activeRows=h[3],d.update()},c.prototype.hide=function(t){if(t.length){var e=this.dt;a(t,function(t){e.hiddenColumns.includes(t)||e.hiddenColumns.push(t)}),this.rebuild()}},c.prototype.show=function(t){if(t.length){var e,i=this.dt;a(t,function(t){(e=i.hiddenColumns.indexOf(t))>-1&&i.hiddenColumns.splice(e,1)}),this.rebuild()}},c.prototype.visible=function(t){var i,s=this.dt;return t=t||s.headings.map(function(t){return t.originalCellIndex}),isNaN(t)?e(t)&&(i=[],a(t,function(t){i.push(!s.hiddenColumns.includes(t))})):i=!s.hiddenColumns.includes(t),i},c.prototype.add=function(t){var e,i=this,s=document.createElement("th");if(!this.dt.headings.length)return this.dt.insert({headings:[t.heading],data:t.data.map(function(t){return[t]})}),void this.rebuild();this.dt.hiddenHeader?s.innerHTML="":t.heading.nodeName?s.appendChild(t.heading):s.innerHTML=t.heading,this.dt.headings.push(s),a(this.dt.data,function(a,s){t.data[s]&&(e=document.createElement("td"),t.data[s].nodeName?e.appendChild(t.data[s]):e.innerHTML=t.data[s],e.data=e.innerHTML,t.render&&(e.innerHTML=t.render.call(i,e.data,e,a)),a.appendChild(e))}),t.type&&s.setAttribute("data-type",t.type),t.format&&s.setAttribute("data-format",t.format),t.hasOwnProperty("sortable")&&(s.sortable=t.sortable,s.setAttribute("data-sortable",!0===t.sortable?"true":"false")),this.rebuild(),this.dt.renderHeader()},c.prototype.remove=function(t){e(t)?(t.sort(function(t,e){return e-t}),a(t,function(t){this.remove(t)},this)):(this.dt.headings.splice(t,1),a(this.dt.data,function(e){e.removeChild(e.cells[t])})),this.rebuild()},c.prototype.sort=function(t,e,i){var s=this,n=this.dt;if(n.hasHeadings&&(t<0||t>n.headings.length))return!1;n.sorting=!0;var r=n.data,o=[],d=[],c=0,p=0,u=n.headings[t],f=function(t){return t},g=[];if("date"===u.getAttribute("data-type")){var b=!1;u.hasAttribute("data-format")&&(b=u.getAttribute("data-format")),g.push(import("./date-78ebb1bf.js").then(function(t){var e=t.parseDate;f=function(t){return e(t,b)}}))}Promise.all(g).then(function(){var g,b;Array.from(r).forEach(function(e){var i=e.cells[t],a=i.hasAttribute("data-content")?i.getAttribute("data-content"):i.innerText,s=f("string"==typeof a?a.replace(/(\$|,|\s|%)/g,""):a);parseFloat(s)==s?d[p++]={value:Number(s),row:e}:o[c++]={value:a,row:e}}),e||(e=l.contains(u,"asc")?"desc":"asc"),"desc"==e?(g=h(o,-1),b=h(d,-1),l.remove(u,"asc"),l.add(u,"desc")):(g=h(d,1),b=h(o,1),l.remove(u,"desc"),l.add(u,"asc")),n.lastTh&&u!=n.lastTh&&(l.remove(n.lastTh,"desc"),l.remove(n.lastTh,"asc")),n.lastTh=u,r=g.concat(b),n.data=[];var v=[];a(r,function(t,e){n.data.push(t.row),null!==t.row.searchIndex&&void 0!==t.row.searchIndex&&v.push(e)},n),n.searchData=v,s.rebuild(),n.update(),i||n.emit("datatable.sort",t,e)})},c.prototype.rebuild=function(){var t,e,i,s,n=this.dt,r=[];n.activeRows=[],n.activeHeadings=[],a(n.headings,function(t,e){t.originalCellIndex=e,t.sortable="false"!==t.getAttribute("data-sortable"),n.hiddenColumns.includes(e)||n.activeHeadings.push(t)},this),a(n.data,function(o,l){t=o.cloneNode(!1),e=o.cloneNode(!1),t.dataIndex=e.dataIndex=l,null!==o.searchIndex&&void 0!==o.searchIndex&&(t.searchIndex=e.searchIndex=o.searchIndex),a(o.cells,function(a){(i=a.cloneNode(!0)).data=a.data,t.appendChild(i),n.hiddenColumns.includes(i.cellIndex)||((s=i.cloneNode(!0)).data=i.data,e.appendChild(s))}),r.push(t),n.activeRows.push(e)}),n.data=r,n.update()};var p={sortable:!0,searchable:!0,paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",ascText:"▴",descText:"▾",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}},u=function(t,e){if(this.initialized=!1,this.options=i(p,e),"string"==typeof t&&(t=document.querySelector(t)),this.initialLayout=t.innerHTML,this.initialSortable=this.options.sortable,this.options.header||(this.options.sortable=!1),null===t.tHead&&(!this.options.data||this.options.data&&!this.options.data.headings)&&(this.options.sortable=!1),t.tBodies.length&&!t.tBodies[0].rows.length&&this.options.data&&!this.options.data.data)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.table=t,this.init()};u.extend=function(t,e){"function"==typeof e?u.prototype[t]=e:u[t]=e},u.prototype.init=function(t){var e=this;if(this.initialized||l.contains(this.table,"dataTable-table"))return!1;this.options=i(this.options,t||{}),this.isIE=!!/(msie|trident)/i.test(navigator.userAgent),this.currentPage=1,this.onFirstPage=!0,this.hiddenColumns=[],this.columnRenderers=[],this.selectedColumns=[],this.render(),setTimeout(function(){e.emit("datatable.init"),e.initialized=!0,e.options.plugins&&a(e.options.plugins,function(t,s){e[s]&&"function"==typeof e[s]&&(e[s]=e[s](t,{each:a,extend:i,classList:l,createElement:n}),t.enabled&&e[s].init&&"function"==typeof e[s].init&&e[s].init())})},10)},u.prototype.render=function(t){var e=this;if(t){switch(t){case"page":this.renderPage();break;case"pager":this.renderPager();break;case"header":this.renderHeader()}return!1}var r=this.options,o="";if(r.data&&function(t){var e=!1,i=!1;if((t=t||this.options.data).headings){e=n("thead");var s=n("tr");a(t.headings,function(t){var e=n("th",{html:t});s.appendChild(e)}),e.appendChild(s)}t.data&&t.data.length&&(i=n("tbody"),a(t.data,function(e){if(t.headings&&t.headings.length!==e.length)throw new Error("The number of rows do not match the number of headings.");var s=n("tr");a(e,function(t){var e=n("td",{html:t});s.appendChild(e)}),i.appendChild(s)})),e&&(null!==this.table.tHead&&this.table.removeChild(this.table.tHead),this.table.appendChild(e)),i&&(this.table.tBodies.length&&this.table.removeChild(this.table.tBodies[0]),this.table.appendChild(i))}.call(this),r.ajax){var h=r.ajax,d=new XMLHttpRequest;s(d,"progress",function(t){e.emit("datatable.ajax.progress",t,d)}),s(d,"load",function(t){if(4===d.readyState)if(e.emit("datatable.ajax.loaded",t,d),200===d.status){var a={};a.data=h.load?h.load.call(e,d):d.responseText,a.type="json",h.content&&h.content.type&&(a.type=h.content.type,a=i(a,h.content)),e.import(a),e.setColumns(!0),e.emit("datatable.ajax.success",t,d)}else e.emit("datatable.ajax.error",t,d)}),s(d,"error",function(t){e.emit("datatable.ajax.error",t,d)}),s(d,"abort",function(t){e.emit("datatable.ajax.abort",t,d)}),this.emit("datatable.ajax.loading",d),d.open("GET","string"==typeof h?r.ajax:r.ajax.url),d.send()}if(this.body=this.table.tBodies[0],this.head=this.table.tHead,this.foot=this.table.tFoot,this.body||(this.body=n("tbody"),this.table.appendChild(this.body)),this.hasRows=this.body.rows.length>0,!this.head){var c=n("thead"),p=n("tr");this.hasRows&&(a(this.body.rows[0].cells,function(){p.appendChild(n("th"))}),c.appendChild(p)),this.head=c,this.table.insertBefore(this.head,this.body),this.hiddenHeader=!r.ajax}if(this.headings=[],this.hasHeadings=this.head.rows.length>0,this.hasHeadings&&(this.header=this.head.rows[0],this.headings=[].slice.call(this.header.cells)),r.header||this.head&&this.table.removeChild(this.table.tHead),r.footer?this.head&&!this.foot&&(this.foot=n("tfoot",{html:this.head.innerHTML}),this.table.appendChild(this.foot)):this.foot&&this.table.removeChild(this.table.tFoot),this.wrapper=n("div",{class:"dataTable-wrapper dataTable-loading"}),o+="<div class='dataTable-top'>",o+=r.layout.top,o+="</div>",r.scrollY.length?o+="<div class='dataTable-container' style='height: "+r.scrollY+"; overflow-Y: auto;'></div>":o+="<div class='dataTable-container'></div>",o+="<div class='dataTable-bottom'>",o+=r.layout.bottom,o=(o+="</div>").replace("{info}",r.paging?"<div class='dataTable-info'></div>":""),r.paging&&r.perPageSelect){var u="<div class='dataTable-dropdown'><label>";u+=r.labels.perPage,u+="</label></div>";var f=n("select",{class:"dataTable-selector"});a(r.perPageSelect,function(t){var e=t===r.perPage,i=new Option(t,t,e,e);f.add(i)}),u=u.replace("{select}",f.outerHTML),o=o.replace("{select}",u)}else o=o.replace("{select}","");if(r.searchable){var g="<div class='dataTable-search'><input class='dataTable-input' placeholder='"+r.labels.placeholder+"' type='text'></div>";o=o.replace("{search}",g)}else o=o.replace("{search}","");this.hasHeadings&&this.render("header"),l.add(this.table,"dataTable-table");var b=n("div",{class:"dataTable-pagination"}),v=n("ul");b.appendChild(v),o=o.replace(/\{pager\}/g,b.outerHTML),this.wrapper.innerHTML=o,this.container=this.wrapper.querySelector(".dataTable-container"),this.pagers=this.wrapper.querySelectorAll(".dataTable-pagination"),this.label=this.wrapper.querySelector(".dataTable-info"),this.table.parentNode.replaceChild(this.wrapper,this.table),this.container.appendChild(this.table),this.rect=this.table.getBoundingClientRect(),this.data=[].slice.call(this.body.rows),this.activeRows=this.data.slice(),this.activeHeadings=this.headings.slice(),this.update(),r.ajax||this.setColumns(),this.fixHeight(),this.fixColumns(),r.header||l.add(this.wrapper,"no-header"),r.footer||l.add(this.wrapper,"no-footer"),r.sortable&&l.add(this.wrapper,"sortable"),r.searchable&&l.add(this.wrapper,"searchable"),r.fixedHeight&&l.add(this.wrapper,"fixed-height"),r.fixedColumns&&l.add(this.wrapper,"fixed-columns"),this.bindEvents()},u.prototype.renderPage=function(){if(this.hasHeadings&&(r(this.header,this.isIE),a(this.activeHeadings,function(t){this.header.appendChild(t)},this)),this.hasRows&&this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);var t=this.currentPage-1,e=document.createDocumentFragment();a(this.pages[t],function(t){e.appendChild(this.rows().render(t))},this),this.clear(e),this.onFirstPage=1===this.currentPage,this.onLastPage=this.currentPage===this.lastPage}else this.setMessage(this.options.labels.noRows);var i,s=0,n=0,o=0;if(this.totalPages&&(o=(n=(s=this.currentPage-1)*this.options.perPage)+this.pages[s].length,n+=1,i=this.searching?this.searchData.length:this.data.length),this.label&&this.options.labels.info.length){var l=this.options.labels.info.replace("{start}",n).replace("{end}",o).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",i);this.label.innerHTML=i?l:""}1==this.currentPage&&this.fixHeight()},u.prototype.renderPager=function(){if(r(this.pagers,this.isIE),this.totalPages>1){var t="pager",e=document.createDocumentFragment(),i=this.onFirstPage?1:this.currentPage-1,s=this.onlastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&e.appendChild(o(t,1,this.options.firstText)),this.options.nextPrev&&e.appendChild(o(t,i,this.options.prevText));var h=this.links;this.options.truncatePager&&(h=function(t,e,i,s,r){var o,h=2*(s=s||2),d=e-s,c=e+s,p=[],u=[];e<4-s+h?c=3+h:e>i-(3-s+h)&&(d=i-(2+h));for(var f=1;f<=i;f++)if(1==f||f==i||f>=d&&f<=c){var g=t[f-1];l.remove(g,"active"),p.push(g)}return a(p,function(e){var i=e.children[0].getAttribute("data-page");if(o){var a=o.children[0].getAttribute("data-page");if(i-a==2)u.push(t[a]);else if(i-a!=1){var s=n("li",{class:"ellipsis",html:'<a href="#">'+r+"</a>"});u.push(s)}}u.push(e),o=e}),u}(this.links,this.currentPage,this.pages.length,this.options.pagerDelta,this.options.ellipsisText)),l.add(this.links[this.currentPage-1],"active"),a(h,function(t){l.remove(t,"active"),e.appendChild(t)}),l.add(this.links[this.currentPage-1],"active"),this.options.nextPrev&&e.appendChild(o(t,s,this.options.nextText)),this.options.firstLast&&e.appendChild(o(t,this.totalPages,this.options.lastText)),a(this.pagers,function(t){t.appendChild(e.cloneNode(!0))})}},u.prototype.renderHeader=function(){var t=this;this.labels=[],this.headings&&this.headings.length&&a(this.headings,function(e,i){if(t.labels[i]=e.textContent,l.contains(e.firstElementChild,"dataTable-sorter")&&(e.innerHTML=e.firstElementChild.innerHTML),e.sortable="false"!==e.getAttribute("data-sortable"),e.originalCellIndex=i,t.options.sortable&&e.sortable){var a=n("a",{href:"#",class:"dataTable-sorter",html:e.innerHTML});e.innerHTML="",e.setAttribute("data-sortable",""),e.appendChild(a)}}),this.fixColumns()},u.prototype.bindEvents=function(){var t=this,e=this.options,i=this;if(e.perPageSelect){var a=this.wrapper.querySelector(".dataTable-selector");a&&s(a,"change",function(){e.perPage=parseInt(this.value,10),i.update(),i.fixHeight(),i.emit("datatable.perpage",e.perPage)})}e.searchable&&(this.input=this.wrapper.querySelector(".dataTable-input"),this.input&&s(this.input,"keyup",function(){i.search(this.value)})),s(this.wrapper,"click",function(i){var a=i.target;"a"===a.nodeName.toLowerCase()&&(a.hasAttribute("data-page")?(t.page(a.getAttribute("data-page")),i.preventDefault()):e.sortable&&l.contains(a,"dataTable-sorter")&&"false"!=a.parentNode.getAttribute("data-sortable")&&(t.columns().sort(t.headings.indexOf(a.parentNode)),i.preventDefault()))}),s(window,"resize",function(){t.rect=t.container.getBoundingClientRect(),t.fixColumns()})},u.prototype.setColumns=function(t){var i=this;t||a(this.data,function(t){a(t.cells,function(t){t.data=t.innerHTML})}),this.options.columns&&this.headings.length&&a(this.options.columns,function(t){e(t.select)||(t.select=[t.select]),t.hasOwnProperty("render")&&"function"==typeof t.render&&(i.selectedColumns=i.selectedColumns.concat(t.select),i.columnRenderers.push({columns:t.select,renderer:t.render})),a(t.select,function(e){var a=i.headings[e];t.type&&a.setAttribute("data-type",t.type),t.format&&a.setAttribute("data-format",t.format),t.hasOwnProperty("sortable")&&a.setAttribute("data-sortable",t.sortable),t.hasOwnProperty("hidden")&&!1!==t.hidden&&i.columns().hide([e]),t.hasOwnProperty("sort")&&1===t.select.length&&i.columns().sort(t.select[0],t.sort,!0)})}),this.hasRows&&(a(this.data,function(t,e){t.dataIndex=e,a(t.cells,function(t){t.data=t.innerHTML})}),this.selectedColumns.length&&a(this.data,function(t){a(t.cells,function(e,s){i.selectedColumns.includes(s)&&a(i.columnRenderers,function(a){a.columns.includes(s)&&(e.innerHTML=a.renderer.call(i,e.data,e,t))})})}),this.columns().rebuild()),this.render("header")},u.prototype.destroy=function(){this.table.innerHTML=this.initialLayout,l.remove(this.table,"dataTable-table"),this.wrapper.parentNode.replaceChild(this.table,this.wrapper),this.initialized=!1},u.prototype.update=function(){l.remove(this.wrapper,"dataTable-empty"),this.paginate(this),this.render("page"),this.links=[];for(var t=this.pages.length;t--;){var e=t+1;this.links[t]=o(0===t?"active":"",e,e)}this.sorting=!1,this.render("pager"),this.rows().update(),this.emit("datatable.update")},u.prototype.paginate=function(){var t=this.options.perPage,e=this.activeRows;return this.searching&&(e=[],a(this.searchData,function(t){e.push(this.activeRows[t])},this)),this.options.paging?this.pages=e.map(function(i,a){return a%t==0?e.slice(a,a+t):null}).filter(function(t){return t}):this.pages=[e],this.totalPages=this.lastPage=this.pages.length,this.totalPages},u.prototype.fixColumns=function(){if((this.options.scrollY.length||this.options.fixedColumns)&&this.activeHeadings&&this.activeHeadings.length){var t,e=!1;if(this.columnWidths=[],this.table.tHead){if(this.options.scrollY.length&&((e=n("thead")).appendChild(n("tr")),e.style.height="0px",this.headerTable&&(this.table.tHead=this.headerTable.tHead)),a(this.activeHeadings,function(t){t.style.width=""},this),a(this.activeHeadings,function(t,i){var a=t.offsetWidth,s=a/this.rect.width*100;if(t.style.width=s+"%",this.columnWidths[i]=a,this.options.scrollY.length){var r=n("th");e.firstElementChild.appendChild(r),r.style.width=s+"%",r.style.paddingTop="0",r.style.paddingBottom="0",r.style.border="0"}},this),this.options.scrollY.length){var i=this.table.parentElement;if(!this.headerTable){this.headerTable=n("table",{class:"dataTable-table"});var s=n("div",{class:"dataTable-headercontainer"});s.appendChild(this.headerTable),i.parentElement.insertBefore(s,i)}var r=this.table.tHead;this.table.replaceChild(e,r),this.headerTable.tHead=r,this.headerTable.style.paddingRight=this.headerTable.clientWidth-this.table.clientWidth+"px",i.scrollHeight>i.clientHeight&&(i.style.overflowY="scroll")}}else{t=[],e=n("thead");var o=n("tr"),l=this.table.tBodies[0].rows[0].cells;a(l,function(){var e=n("th");o.appendChild(e),t.push(e)}),e.appendChild(o),this.table.insertBefore(e,this.body);var h=[];a(t,function(t,e){var i=t.offsetWidth,a=i/this.rect.width*100;h.push(a),this.columnWidths[e]=i},this),a(this.data,function(t){a(t.cells,function(t,e){this.columns(t.cellIndex).visible()&&(t.style.width=h[e]+"%")},this)},this),this.table.removeChild(e)}}},u.prototype.fixHeight=function(){this.options.fixedHeight&&(this.container.style.height=null,this.rect=this.container.getBoundingClientRect(),this.container.style.height=this.rect.height+"px")},u.prototype.search=function(t){return!!this.hasRows&&(t=t.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],t.length?(this.clear(),a(this.data,function(e,i){var a=this,s=this.searchData.includes(e);t.split(" ").reduce(function(t,i){for(var s=!1,n=null,r=0;r<e.cells.length;r++)if(((n=e.cells[r]).hasAttribute("data-content")?n.getAttribute("data-content"):n.textContent).toLowerCase().includes(i)&&a.columns(n.cellIndex).visible()){s=!0;break}return t&&s},!0)&&!s?(e.searchIndex=i,this.searchData.push(i)):e.searchIndex=null},this),l.add(this.wrapper,"search-results"),this.searchData.length?this.update():(l.remove(this.wrapper,"search-results"),this.setMessage(this.options.labels.noRows)),void this.emit("datatable.search",t,this.searchData)):(this.searching=!1,this.update(),this.emit("datatable.search",t,this.searchData),l.remove(this.wrapper,"search-results"),!1))},u.prototype.page=function(t){return t!=this.currentPage&&(isNaN(t)||(this.currentPage=parseInt(t,10)),!(t>this.pages.length||t<0)&&(this.render("page"),this.render("pager"),void this.emit("datatable.page",t)))},u.prototype.sortColumn=function(t,e){this.columns().sort(t,e)},u.prototype.insert=function(i){var s=this,r=[];if(t(i)){if(i.headings&&!this.hasHeadings&&!this.hasRows){var o,l=n("tr");a(i.headings,function(t){o=n("th",{html:t}),l.appendChild(o)}),this.head.appendChild(l),this.header=l,this.headings=[].slice.call(l.cells),this.hasHeadings=!0,this.options.sortable=this.initialSortable,this.render("header"),this.activeHeadings=this.headings.slice()}i.data&&e(i.data)&&(r=i.data)}else e(i)&&a(i,function(t){var e=[];a(t,function(t,i){var a=s.labels.indexOf(i);a>-1&&(e[a]=t)}),r.push(e)});r.length&&(this.rows().add(r),this.hasRows=!0),this.update(),this.fixColumns()},u.prototype.refresh=function(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")},u.prototype.clear=function(t){this.body&&r(this.body,this.isIE);var e=this.body;if(this.body||(e=this.table),t){if("string"==typeof t)document.createDocumentFragment().innerHTML=t;e.appendChild(t)}},u.prototype.export=function(a){if(!this.hasHeadings&&!this.hasRows)return!1;var s,n,r,o,l=this.activeHeadings,h=[],d=[];if(!t(a))return!1;var c=i({download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4},a);if(c.type){if("txt"!==c.type&&"csv"!==c.type||(h[0]=this.header),c.selection)if(isNaN(c.selection)){if(e(c.selection))for(s=0;s<c.selection.length;s++)h=h.concat(this.pages[c.selection[s]-1])}else h=h.concat(this.pages[c.selection-1]);else h=h.concat(this.activeRows);if(h.length){if("txt"===c.type||"csv"===c.type){for(r="",s=0;s<h.length;s++){for(n=0;n<h[s].cells.length;n++)if(!c.skipColumn.includes(l[n].originalCellIndex)&&this.columns(l[n].originalCellIndex).visible()){var p=h[s].cells[n].textContent;(p=(p=(p=(p=(p=p.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(p='"'+p+'"'),r+=p+c.columnDelimiter}r=r.trim().substring(0,r.length-1),r+=c.lineDelimiter}r=r.trim().substring(0,r.length-1),c.download&&(r="data:text/csv;charset=utf-8,"+r)}else if("sql"===c.type){for(r="INSERT INTO `"+c.tableName+"` (",s=0;s<l.length;s++)!c.skipColumn.includes(l[s].originalCellIndex)&&this.columns(l[s].originalCellIndex).visible()&&(r+="`"+l[s].textContent+"`,");for(r=r.trim().substring(0,r.length-1),r+=") VALUES ",s=0;s<h.length;s++){for(r+="(",n=0;n<h[s].cells.length;n++)!c.skipColumn.includes(l[n].originalCellIndex)&&this.columns(l[n].originalCellIndex).visible()&&(r+='"'+h[s].cells[n].textContent+'",');r=r.trim().substring(0,r.length-1),r+="),"}r=r.trim().substring(0,r.length-1),r+=";",c.download&&(r="data:application/sql;charset=utf-8,"+r)}else if("json"===c.type){for(n=0;n<h.length;n++)for(d[n]=d[n]||{},s=0;s<l.length;s++)!c.skipColumn.includes(l[s].originalCellIndex)&&this.columns(l[s].originalCellIndex).visible()&&(d[n][l[s].textContent]=h[n].cells[s].textContent);r=JSON.stringify(d,c.replacer,c.space),c.download&&(r="data:application/json;charset=utf-8,"+r)}return c.download&&(c.filename=c.filename||"datatable_export",c.filename+="."+c.type,r=encodeURI(r),(o=document.createElement("a")).href=r,o.download=c.filename,document.body.appendChild(o),o.click(),document.body.removeChild(o)),r}}return!1},u.prototype.import=function(s){var n=!1;if(!t(s))return!1;if((s=i({lineDelimiter:"\n",columnDelimiter:","},s)).data.length||t(s.data)){if("csv"===s.type){n={data:[]};var r=s.data.split(s.lineDelimiter);r.length&&(s.headings&&(n.headings=r[0].split(s.columnDelimiter),r.shift()),a(r,function(t,e){n.data[e]=[];var i=t.split(s.columnDelimiter);i.length&&a(i,function(t){n.data[e].push(t)})}))}else if("json"===s.type){var o=function(i){var a=!1;try{a=JSON.parse(i)}catch(t){return!1}return!(null===a||!e(a)&&!t(a))&&a}(s.data);o&&(n={headings:[],data:[]},a(o,function(t,e){n.data[e]=[],a(t,function(t,i){n.headings.includes(i)||n.headings.push(i),n.data[e].push(t)})}))}t(s.data)&&(n=s.data),n&&this.insert(n)}return!1},u.prototype.print=function(){var t=this.activeHeadings,e=this.activeRows,i=n("table"),s=n("thead"),r=n("tbody"),o=n("tr");a(t,function(t){o.appendChild(n("th",{html:t.textContent}))}),s.appendChild(o),a(e,function(t){var e=n("tr");a(t.cells,function(t){e.appendChild(n("td",{html:t.textContent}))}),r.appendChild(e)}),i.appendChild(s),i.appendChild(r);var l=window.open();l.document.body.appendChild(i),l.print()},u.prototype.setMessage=function(t){var e=1;this.hasRows?e=this.data[0].cells.length:this.activeHeadings.length&&(e=this.activeHeadings.length),l.add(this.wrapper,"dataTable-empty"),this.label&&(this.label.innerHTML=""),this.totalPages=0,this.render("pager"),this.clear(n("tr",{html:'<td class="dataTables-empty" colspan="'+e+'">'+t+"</td>"}))},u.prototype.columns=function(t){return new c(this,t)},u.prototype.rows=function(t){return new d(this,t)},u.prototype.on=function(t,e){this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e)},u.prototype.off=function(t,e){this.events=this.events||{},t in this.events!=!1&&this.events[t].splice(this.events[t].indexOf(e),1)},u.prototype.emit=function(t){var e=arguments;if(this.events=this.events||{},t in this.events!=!1)for(var i=0;i<this.events[t].length;i++)this.events[t][i].apply(this,Array.prototype.slice.call(e,1))};export{u as DataTable};
//# sourceMappingURL=index.js.map
