System.register([],function(t,e){"use strict";return{execute:function(){var i=function(t){return"[object Object]"===Object.prototype.toString.call(t)},a=function(t){return Array.isArray(t)},s=function(t,e){for(var a in e)if(e.hasOwnProperty(a)){var n=e[a];n&&i(n)?(t[a]=t[a]||{},s(t[a],n)):t[a]=n}return t},n=function(t,e,a){var s;if(i(t))for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(a,t[s],s);else for(s=0;s<t.length;s++)e.call(a,t[s],s)},r=function(t,e,i){t.addEventListener(e,i,!1)},o=function(t,e){var i,a=document.createElement(t);if(e&&"object"==typeof e)for(i in e)"html"===i?a.innerHTML=e[i]:a.setAttribute(i,e[i]);return a},l=function(t,e){if(t instanceof NodeList)n(t,function(t){l(t,e)});else if(e)for(;t.hasChildNodes();)t.removeChild(t.firstChild);else t.innerHTML=""},h=function(t,e,i){return o("li",{class:t,html:'<a href="#" data-page="'+e+'">'+i+"</a>"})},d={add:function(t,e){t.classList?t.classList.add(e):d.contains(t,e)||(t.className=t.className.trim()+" "+e)},remove:function(t,e){t.classList?t.classList.remove(e):d.contains(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," "))},contains:function(t,e){if(t)return t.classList?t.classList.contains(e):!!t.className&&!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}},c=function(t,e){var i,a;1===e?(i=0,a=t.length):-1===e&&(i=t.length-1,a=-1);for(var s=!0;s;){s=!1;for(var n=i;n!=a;n+=e)if(t[n+e]&&t[n].value>t[n+e].value){var r=t[n],o=t[n+e],l=r;t[n]=o,t[n+e]=l,s=!0}}return t},p=function(t,e){return this.dt=t,this.rows=e,this};p.prototype.build=function(t){var e=o("tr"),i=this.dt.headings;return i.length||(i=t.map(function(){return""})),n(i,function(i,a){var s=o("td");t[a]&&t[a].length||(t[a]=""),s.innerHTML=t[a],s.data=t[a],e.appendChild(s)}),e},p.prototype.render=function(t){return t},p.prototype.add=function(t){if(a(t)){var e=this.dt;a(t[0])?n(t,function(t){e.data.push(this.build(t))},this):e.data.push(this.build(t)),e.data.length&&(e.hasRows=!0),this.update(),e.columns().rebuild()}},p.prototype.remove=function(t){var e=this.dt;a(t)?(t.sort(function(t,e){return e-t}),n(t,function(t){e.data.splice(t,1)})):e.data.splice(t,1),e.data.length||(e.hasRows=!1),this.update(),e.columns().rebuild()},p.prototype.update=function(){n(this.dt.data,function(t,e){t.dataIndex=e})};var u=function(t){return this.dt=t,this};u.prototype.swap=function(t){if(t.length&&2===t.length){var e=[];n(this.dt.headings,function(t,i){e.push(i)});var i=t[0],a=t[1],s=e[a];e[a]=e[i],e[i]=s,this.order(e)}},u.prototype.order=function(t){var e,i,a,s,r,o,l,h=[[],[],[],[]],d=this.dt;n(t,function(t,a){r=d.headings[t],o="false"!==r.getAttribute("data-sortable"),(e=r.cloneNode(!0)).originalCellIndex=a,e.sortable=o,h[0].push(e),d.hiddenColumns.includes(t)||((i=r.cloneNode(!0)).originalCellIndex=a,i.sortable=o,h[1].push(i))}),n(d.data,function(e,i){a=e.cloneNode(!1),s=e.cloneNode(!1),a.dataIndex=s.dataIndex=i,null!==e.searchIndex&&void 0!==e.searchIndex&&(a.searchIndex=s.searchIndex=e.searchIndex),n(t,function(t){(l=e.cells[t].cloneNode(!0)).data=e.cells[t].data,a.appendChild(l),d.hiddenColumns.includes(t)||((l=e.cells[t].cloneNode(!0)).data=e.cells[t].data,s.appendChild(l))}),h[2].push(a),h[3].push(s)}),d.headings=h[0],d.activeHeadings=h[1],d.data=h[2],d.activeRows=h[3],d.update()},u.prototype.hide=function(t){if(t.length){var e=this.dt;n(t,function(t){e.hiddenColumns.includes(t)||e.hiddenColumns.push(t)}),this.rebuild()}},u.prototype.show=function(t){if(t.length){var e,i=this.dt;n(t,function(t){(e=i.hiddenColumns.indexOf(t))>-1&&i.hiddenColumns.splice(e,1)}),this.rebuild()}},u.prototype.visible=function(t){var e,i=this.dt;return t=t||i.headings.map(function(t){return t.originalCellIndex}),isNaN(t)?a(t)&&(e=[],n(t,function(t){e.push(!i.hiddenColumns.includes(t))})):e=!i.hiddenColumns.includes(t),e},u.prototype.add=function(t){var e,i=this,a=document.createElement("th");if(!this.dt.headings.length)return this.dt.insert({headings:[t.heading],data:t.data.map(function(t){return[t]})}),void this.rebuild();this.dt.hiddenHeader?a.innerHTML="":t.heading.nodeName?a.appendChild(t.heading):a.innerHTML=t.heading,this.dt.headings.push(a),n(this.dt.data,function(a,s){t.data[s]&&(e=document.createElement("td"),t.data[s].nodeName?e.appendChild(t.data[s]):e.innerHTML=t.data[s],e.data=e.innerHTML,t.render&&(e.innerHTML=t.render.call(i,e.data,e,a)),a.appendChild(e))}),t.type&&a.setAttribute("data-type",t.type),t.format&&a.setAttribute("data-format",t.format),t.hasOwnProperty("sortable")&&(a.sortable=t.sortable,a.setAttribute("data-sortable",!0===t.sortable?"true":"false")),this.rebuild(),this.dt.renderHeader()},u.prototype.remove=function(t){a(t)?(t.sort(function(t,e){return e-t}),n(t,function(t){this.remove(t)},this)):(this.dt.headings.splice(t,1),n(this.dt.data,function(e){e.removeChild(e.cells[t])})),this.rebuild()},u.prototype.sort=function(t,i,a){var s=this,r=this.dt;if(r.hasHeadings&&(t<0||t>r.headings.length))return!1;r.sorting=!0;var o=r.data,l=[],h=[],p=0,u=0,f=r.headings[t],g=function(t){return t},b=[];if("date"===f.getAttribute("data-type")){var v=!1;f.hasAttribute("data-format")&&(v=f.getAttribute("data-format")),b.push(e.import("./date-0a5d9327.js").then(function(t){var e=t.parseDate;g=function(t){return e(t,v)}}))}Promise.all(b).then(function(){var e,b;Array.from(o).forEach(function(e){var i=e.cells[t],a=i.hasAttribute("data-content")?i.getAttribute("data-content"):i.innerText,s=g("string"==typeof a?a.replace(/(\$|,|\s|%)/g,""):a);parseFloat(s)==s?h[u++]={value:Number(s),row:e}:l[p++]={value:a,row:e}}),i||(i=d.contains(f,"asc")?"desc":"asc"),"desc"==i?(e=c(l,-1),b=c(h,-1),d.remove(f,"asc"),d.add(f,"desc")):(e=c(h,1),b=c(l,1),d.remove(f,"desc"),d.add(f,"asc")),r.lastTh&&f!=r.lastTh&&(d.remove(r.lastTh,"desc"),d.remove(r.lastTh,"asc")),r.lastTh=f,o=e.concat(b),r.data=[];var v=[];n(o,function(t,e){r.data.push(t.row),null!==t.row.searchIndex&&void 0!==t.row.searchIndex&&v.push(e)},r),r.searchData=v,s.rebuild(),r.update(),a||r.emit("datatable.sort",t,i)})},u.prototype.rebuild=function(){var t,e,i,a,s=this.dt,r=[];s.activeRows=[],s.activeHeadings=[],n(s.headings,function(t,e){t.originalCellIndex=e,t.sortable="false"!==t.getAttribute("data-sortable"),s.hiddenColumns.includes(e)||s.activeHeadings.push(t)},this),n(s.data,function(o,l){t=o.cloneNode(!1),e=o.cloneNode(!1),t.dataIndex=e.dataIndex=l,null!==o.searchIndex&&void 0!==o.searchIndex&&(t.searchIndex=e.searchIndex=o.searchIndex),n(o.cells,function(n){(i=n.cloneNode(!0)).data=n.data,t.appendChild(i),s.hiddenColumns.includes(i.cellIndex)||((a=i.cloneNode(!0)).data=i.data,e.appendChild(a))}),r.push(t),s.activeRows.push(e)}),s.data=r,s.update()};var f={sortable:!0,searchable:!0,paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",ascText:"▴",descText:"▾",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}},g=t("DataTable",function(t,e){if(this.initialized=!1,this.options=s(f,e),"string"==typeof t&&(t=document.querySelector(t)),this.initialLayout=t.innerHTML,this.initialSortable=this.options.sortable,this.options.header||(this.options.sortable=!1),null===t.tHead&&(!this.options.data||this.options.data&&!this.options.data.headings)&&(this.options.sortable=!1),t.tBodies.length&&!t.tBodies[0].rows.length&&this.options.data&&!this.options.data.data)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.table=t,this.init()});g.extend=function(t,e){"function"==typeof e?g.prototype[t]=e:g[t]=e},g.prototype.init=function(t){var e=this;if(this.initialized||d.contains(this.table,"dataTable-table"))return!1;this.options=s(this.options,t||{}),this.isIE=!!/(msie|trident)/i.test(navigator.userAgent),this.currentPage=1,this.onFirstPage=!0,this.hiddenColumns=[],this.columnRenderers=[],this.selectedColumns=[],this.render(),setTimeout(function(){e.emit("datatable.init"),e.initialized=!0,e.options.plugins&&n(e.options.plugins,function(t,i){e[i]&&"function"==typeof e[i]&&(e[i]=e[i](t,{each:n,extend:s,classList:d,createElement:o}),t.enabled&&e[i].init&&"function"==typeof e[i].init&&e[i].init())})},10)},g.prototype.render=function(t){var e=this;if(t){switch(t){case"page":this.renderPage();break;case"pager":this.renderPager();break;case"header":this.renderHeader()}return!1}var i=this.options,a="";if(i.data&&function(t){var e=!1,i=!1;if((t=t||this.options.data).headings){e=o("thead");var a=o("tr");n(t.headings,function(t){var e=o("th",{html:t});a.appendChild(e)}),e.appendChild(a)}t.data&&t.data.length&&(i=o("tbody"),n(t.data,function(e){if(t.headings&&t.headings.length!==e.length)throw new Error("The number of rows do not match the number of headings.");var a=o("tr");n(e,function(t){var e=o("td",{html:t});a.appendChild(e)}),i.appendChild(a)})),e&&(null!==this.table.tHead&&this.table.removeChild(this.table.tHead),this.table.appendChild(e)),i&&(this.table.tBodies.length&&this.table.removeChild(this.table.tBodies[0]),this.table.appendChild(i))}.call(this),i.ajax){var l=i.ajax,h=new XMLHttpRequest;r(h,"progress",function(t){e.emit("datatable.ajax.progress",t,h)}),r(h,"load",function(t){if(4===h.readyState)if(e.emit("datatable.ajax.loaded",t,h),200===h.status){var i={};i.data=l.load?l.load.call(e,h):h.responseText,i.type="json",l.content&&l.content.type&&(i.type=l.content.type,i=s(i,l.content)),e.import(i),e.setColumns(!0),e.emit("datatable.ajax.success",t,h)}else e.emit("datatable.ajax.error",t,h)}),r(h,"error",function(t){e.emit("datatable.ajax.error",t,h)}),r(h,"abort",function(t){e.emit("datatable.ajax.abort",t,h)}),this.emit("datatable.ajax.loading",h),h.open("GET","string"==typeof l?i.ajax:i.ajax.url),h.send()}if(this.body=this.table.tBodies[0],this.head=this.table.tHead,this.foot=this.table.tFoot,this.body||(this.body=o("tbody"),this.table.appendChild(this.body)),this.hasRows=this.body.rows.length>0,!this.head){var c=o("thead"),p=o("tr");this.hasRows&&(n(this.body.rows[0].cells,function(){p.appendChild(o("th"))}),c.appendChild(p)),this.head=c,this.table.insertBefore(this.head,this.body),this.hiddenHeader=!i.ajax}if(this.headings=[],this.hasHeadings=this.head.rows.length>0,this.hasHeadings&&(this.header=this.head.rows[0],this.headings=[].slice.call(this.header.cells)),i.header||this.head&&this.table.removeChild(this.table.tHead),i.footer?this.head&&!this.foot&&(this.foot=o("tfoot",{html:this.head.innerHTML}),this.table.appendChild(this.foot)):this.foot&&this.table.removeChild(this.table.tFoot),this.wrapper=o("div",{class:"dataTable-wrapper dataTable-loading"}),a+="<div class='dataTable-top'>",a+=i.layout.top,a+="</div>",i.scrollY.length?a+="<div class='dataTable-container' style='height: "+i.scrollY+"; overflow-Y: auto;'></div>":a+="<div class='dataTable-container'></div>",a+="<div class='dataTable-bottom'>",a+=i.layout.bottom,a=(a+="</div>").replace("{info}",i.paging?"<div class='dataTable-info'></div>":""),i.paging&&i.perPageSelect){var u="<div class='dataTable-dropdown'><label>";u+=i.labels.perPage,u+="</label></div>";var f=o("select",{class:"dataTable-selector"});n(i.perPageSelect,function(t){var e=t===i.perPage,a=new Option(t,t,e,e);f.add(a)}),u=u.replace("{select}",f.outerHTML),a=a.replace("{select}",u)}else a=a.replace("{select}","");if(i.searchable){var g="<div class='dataTable-search'><input class='dataTable-input' placeholder='"+i.labels.placeholder+"' type='text'></div>";a=a.replace("{search}",g)}else a=a.replace("{search}","");this.hasHeadings&&this.render("header"),d.add(this.table,"dataTable-table");var b=o("div",{class:"dataTable-pagination"}),v=o("ul");b.appendChild(v),a=a.replace(/\{pager\}/g,b.outerHTML),this.wrapper.innerHTML=a,this.container=this.wrapper.querySelector(".dataTable-container"),this.pagers=this.wrapper.querySelectorAll(".dataTable-pagination"),this.label=this.wrapper.querySelector(".dataTable-info"),this.table.parentNode.replaceChild(this.wrapper,this.table),this.container.appendChild(this.table),this.rect=this.table.getBoundingClientRect(),this.data=[].slice.call(this.body.rows),this.activeRows=this.data.slice(),this.activeHeadings=this.headings.slice(),this.update(),i.ajax||this.setColumns(),this.fixHeight(),this.fixColumns(),i.header||d.add(this.wrapper,"no-header"),i.footer||d.add(this.wrapper,"no-footer"),i.sortable&&d.add(this.wrapper,"sortable"),i.searchable&&d.add(this.wrapper,"searchable"),i.fixedHeight&&d.add(this.wrapper,"fixed-height"),i.fixedColumns&&d.add(this.wrapper,"fixed-columns"),this.bindEvents()},g.prototype.renderPage=function(){if(this.hasHeadings&&(l(this.header,this.isIE),n(this.activeHeadings,function(t){this.header.appendChild(t)},this)),this.hasRows&&this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);var t=this.currentPage-1,e=document.createDocumentFragment();n(this.pages[t],function(t){e.appendChild(this.rows().render(t))},this),this.clear(e),this.onFirstPage=1===this.currentPage,this.onLastPage=this.currentPage===this.lastPage}else this.setMessage(this.options.labels.noRows);var i,a=0,s=0,r=0;if(this.totalPages&&(r=(s=(a=this.currentPage-1)*this.options.perPage)+this.pages[a].length,s+=1,i=this.searching?this.searchData.length:this.data.length),this.label&&this.options.labels.info.length){var o=this.options.labels.info.replace("{start}",s).replace("{end}",r).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",i);this.label.innerHTML=i?o:""}1==this.currentPage&&this.fixHeight()},g.prototype.renderPager=function(){if(l(this.pagers,this.isIE),this.totalPages>1){var t="pager",e=document.createDocumentFragment(),i=this.onFirstPage?1:this.currentPage-1,a=this.onlastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&e.appendChild(h(t,1,this.options.firstText)),this.options.nextPrev&&e.appendChild(h(t,i,this.options.prevText));var s=this.links;this.options.truncatePager&&(s=function(t,e,i,a,s){var r,l=2*(a=a||2),h=e-a,c=e+a,p=[],u=[];e<4-a+l?c=3+l:e>i-(3-a+l)&&(h=i-(2+l));for(var f=1;f<=i;f++)if(1==f||f==i||f>=h&&f<=c){var g=t[f-1];d.remove(g,"active"),p.push(g)}return n(p,function(e){var i=e.children[0].getAttribute("data-page");if(r){var a=r.children[0].getAttribute("data-page");if(i-a==2)u.push(t[a]);else if(i-a!=1){var n=o("li",{class:"ellipsis",html:'<a href="#">'+s+"</a>"});u.push(n)}}u.push(e),r=e}),u}(this.links,this.currentPage,this.pages.length,this.options.pagerDelta,this.options.ellipsisText)),d.add(this.links[this.currentPage-1],"active"),n(s,function(t){d.remove(t,"active"),e.appendChild(t)}),d.add(this.links[this.currentPage-1],"active"),this.options.nextPrev&&e.appendChild(h(t,a,this.options.nextText)),this.options.firstLast&&e.appendChild(h(t,this.totalPages,this.options.lastText)),n(this.pagers,function(t){t.appendChild(e.cloneNode(!0))})}},g.prototype.renderHeader=function(){var t=this;this.labels=[],this.headings&&this.headings.length&&n(this.headings,function(e,i){if(t.labels[i]=e.textContent,d.contains(e.firstElementChild,"dataTable-sorter")&&(e.innerHTML=e.firstElementChild.innerHTML),e.sortable="false"!==e.getAttribute("data-sortable"),e.originalCellIndex=i,t.options.sortable&&e.sortable){var a=o("a",{href:"#",class:"dataTable-sorter",html:e.innerHTML});e.innerHTML="",e.setAttribute("data-sortable",""),e.appendChild(a)}}),this.fixColumns()},g.prototype.bindEvents=function(){var t=this,e=this.options,i=this;if(e.perPageSelect){var a=this.wrapper.querySelector(".dataTable-selector");a&&r(a,"change",function(){e.perPage=parseInt(this.value,10),i.update(),i.fixHeight(),i.emit("datatable.perpage",e.perPage)})}e.searchable&&(this.input=this.wrapper.querySelector(".dataTable-input"),this.input&&r(this.input,"keyup",function(){i.search(this.value)})),r(this.wrapper,"click",function(i){var a=i.target;"a"===a.nodeName.toLowerCase()&&(a.hasAttribute("data-page")?(t.page(a.getAttribute("data-page")),i.preventDefault()):e.sortable&&d.contains(a,"dataTable-sorter")&&"false"!=a.parentNode.getAttribute("data-sortable")&&(t.columns().sort(t.headings.indexOf(a.parentNode)),i.preventDefault()))}),r(window,"resize",function(){t.rect=t.container.getBoundingClientRect(),t.fixColumns()})},g.prototype.setColumns=function(t){var e=this;t||n(this.data,function(t){n(t.cells,function(t){t.data=t.innerHTML})}),this.options.columns&&this.headings.length&&n(this.options.columns,function(t){a(t.select)||(t.select=[t.select]),t.hasOwnProperty("render")&&"function"==typeof t.render&&(e.selectedColumns=e.selectedColumns.concat(t.select),e.columnRenderers.push({columns:t.select,renderer:t.render})),n(t.select,function(i){var a=e.headings[i];t.type&&a.setAttribute("data-type",t.type),t.format&&a.setAttribute("data-format",t.format),t.hasOwnProperty("sortable")&&a.setAttribute("data-sortable",t.sortable),t.hasOwnProperty("hidden")&&!1!==t.hidden&&e.columns().hide([i]),t.hasOwnProperty("sort")&&1===t.select.length&&e.columns().sort(t.select[0],t.sort,!0)})}),this.hasRows&&(n(this.data,function(t,e){t.dataIndex=e,n(t.cells,function(t){t.data=t.innerHTML})}),this.selectedColumns.length&&n(this.data,function(t){n(t.cells,function(i,a){e.selectedColumns.includes(a)&&n(e.columnRenderers,function(s){s.columns.includes(a)&&(i.innerHTML=s.renderer.call(e,i.data,i,t))})})}),this.columns().rebuild()),this.render("header")},g.prototype.destroy=function(){this.table.innerHTML=this.initialLayout,d.remove(this.table,"dataTable-table"),this.wrapper.parentNode.replaceChild(this.table,this.wrapper),this.initialized=!1},g.prototype.update=function(){d.remove(this.wrapper,"dataTable-empty"),this.paginate(this),this.render("page"),this.links=[];for(var t=this.pages.length;t--;){var e=t+1;this.links[t]=h(0===t?"active":"",e,e)}this.sorting=!1,this.render("pager"),this.rows().update(),this.emit("datatable.update")},g.prototype.paginate=function(){var t=this.options.perPage,e=this.activeRows;return this.searching&&(e=[],n(this.searchData,function(t){e.push(this.activeRows[t])},this)),this.options.paging?this.pages=e.map(function(i,a){return a%t==0?e.slice(a,a+t):null}).filter(function(t){return t}):this.pages=[e],this.totalPages=this.lastPage=this.pages.length,this.totalPages},g.prototype.fixColumns=function(){if((this.options.scrollY.length||this.options.fixedColumns)&&this.activeHeadings&&this.activeHeadings.length){var t,e=!1;if(this.columnWidths=[],this.table.tHead){if(this.options.scrollY.length&&((e=o("thead")).appendChild(o("tr")),e.style.height="0px",this.headerTable&&(this.table.tHead=this.headerTable.tHead)),n(this.activeHeadings,function(t){t.style.width=""},this),n(this.activeHeadings,function(t,i){var a=t.offsetWidth,s=a/this.rect.width*100;if(t.style.width=s+"%",this.columnWidths[i]=a,this.options.scrollY.length){var n=o("th");e.firstElementChild.appendChild(n),n.style.width=s+"%",n.style.paddingTop="0",n.style.paddingBottom="0",n.style.border="0"}},this),this.options.scrollY.length){var i=this.table.parentElement;if(!this.headerTable){this.headerTable=o("table",{class:"dataTable-table"});var a=o("div",{class:"dataTable-headercontainer"});a.appendChild(this.headerTable),i.parentElement.insertBefore(a,i)}var s=this.table.tHead;this.table.replaceChild(e,s),this.headerTable.tHead=s,this.headerTable.style.paddingRight=this.headerTable.clientWidth-this.table.clientWidth+"px",i.scrollHeight>i.clientHeight&&(i.style.overflowY="scroll")}}else{t=[],e=o("thead");var r=o("tr"),l=this.table.tBodies[0].rows[0].cells;n(l,function(){var e=o("th");r.appendChild(e),t.push(e)}),e.appendChild(r),this.table.insertBefore(e,this.body);var h=[];n(t,function(t,e){var i=t.offsetWidth,a=i/this.rect.width*100;h.push(a),this.columnWidths[e]=i},this),n(this.data,function(t){n(t.cells,function(t,e){this.columns(t.cellIndex).visible()&&(t.style.width=h[e]+"%")},this)},this),this.table.removeChild(e)}}},g.prototype.fixHeight=function(){this.options.fixedHeight&&(this.container.style.height=null,this.rect=this.container.getBoundingClientRect(),this.container.style.height=this.rect.height+"px")},g.prototype.search=function(t){return!!this.hasRows&&(t=t.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],t.length?(this.clear(),n(this.data,function(e,i){var a=this,s=this.searchData.includes(e);t.split(" ").reduce(function(t,i){for(var s=!1,n=null,r=0;r<e.cells.length;r++)if(((n=e.cells[r]).hasAttribute("data-content")?n.getAttribute("data-content"):n.textContent).toLowerCase().includes(i)&&a.columns(n.cellIndex).visible()){s=!0;break}return t&&s},!0)&&!s?(e.searchIndex=i,this.searchData.push(i)):e.searchIndex=null},this),d.add(this.wrapper,"search-results"),this.searchData.length?this.update():(d.remove(this.wrapper,"search-results"),this.setMessage(this.options.labels.noRows)),void this.emit("datatable.search",t,this.searchData)):(this.searching=!1,this.update(),this.emit("datatable.search",t,this.searchData),d.remove(this.wrapper,"search-results"),!1))},g.prototype.page=function(t){return t!=this.currentPage&&(isNaN(t)||(this.currentPage=parseInt(t,10)),!(t>this.pages.length||t<0)&&(this.render("page"),this.render("pager"),void this.emit("datatable.page",t)))},g.prototype.sortColumn=function(t,e){this.columns().sort(t,e)},g.prototype.insert=function(t){var e=this,s=[];if(i(t)){if(t.headings&&!this.hasHeadings&&!this.hasRows){var r,l=o("tr");n(t.headings,function(t){r=o("th",{html:t}),l.appendChild(r)}),this.head.appendChild(l),this.header=l,this.headings=[].slice.call(l.cells),this.hasHeadings=!0,this.options.sortable=this.initialSortable,this.render("header"),this.activeHeadings=this.headings.slice()}t.data&&a(t.data)&&(s=t.data)}else a(t)&&n(t,function(t){var i=[];n(t,function(t,a){var s=e.labels.indexOf(a);s>-1&&(i[s]=t)}),s.push(i)});s.length&&(this.rows().add(s),this.hasRows=!0),this.update(),this.fixColumns()},g.prototype.refresh=function(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")},g.prototype.clear=function(t){this.body&&l(this.body,this.isIE);var e=this.body;if(this.body||(e=this.table),t){if("string"==typeof t)document.createDocumentFragment().innerHTML=t;e.appendChild(t)}},g.prototype.export=function(t){if(!this.hasHeadings&&!this.hasRows)return!1;var e,n,r,o,l=this.activeHeadings,h=[],d=[];if(!i(t))return!1;var c=s({download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4},t);if(c.type){if("txt"!==c.type&&"csv"!==c.type||(h[0]=this.header),c.selection)if(isNaN(c.selection)){if(a(c.selection))for(e=0;e<c.selection.length;e++)h=h.concat(this.pages[c.selection[e]-1])}else h=h.concat(this.pages[c.selection-1]);else h=h.concat(this.activeRows);if(h.length){if("txt"===c.type||"csv"===c.type){for(r="",e=0;e<h.length;e++){for(n=0;n<h[e].cells.length;n++)if(!c.skipColumn.includes(l[n].originalCellIndex)&&this.columns(l[n].originalCellIndex).visible()){var p=h[e].cells[n].textContent;(p=(p=(p=(p=(p=p.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(p='"'+p+'"'),r+=p+c.columnDelimiter}r=r.trim().substring(0,r.length-1),r+=c.lineDelimiter}r=r.trim().substring(0,r.length-1),c.download&&(r="data:text/csv;charset=utf-8,"+r)}else if("sql"===c.type){for(r="INSERT INTO `"+c.tableName+"` (",e=0;e<l.length;e++)!c.skipColumn.includes(l[e].originalCellIndex)&&this.columns(l[e].originalCellIndex).visible()&&(r+="`"+l[e].textContent+"`,");for(r=r.trim().substring(0,r.length-1),r+=") VALUES ",e=0;e<h.length;e++){for(r+="(",n=0;n<h[e].cells.length;n++)!c.skipColumn.includes(l[n].originalCellIndex)&&this.columns(l[n].originalCellIndex).visible()&&(r+='"'+h[e].cells[n].textContent+'",');r=r.trim().substring(0,r.length-1),r+="),"}r=r.trim().substring(0,r.length-1),r+=";",c.download&&(r="data:application/sql;charset=utf-8,"+r)}else if("json"===c.type){for(n=0;n<h.length;n++)for(d[n]=d[n]||{},e=0;e<l.length;e++)!c.skipColumn.includes(l[e].originalCellIndex)&&this.columns(l[e].originalCellIndex).visible()&&(d[n][l[e].textContent]=h[n].cells[e].textContent);r=JSON.stringify(d,c.replacer,c.space),c.download&&(r="data:application/json;charset=utf-8,"+r)}return c.download&&(c.filename=c.filename||"datatable_export",c.filename+="."+c.type,r=encodeURI(r),(o=document.createElement("a")).href=r,o.download=c.filename,document.body.appendChild(o),o.click(),document.body.removeChild(o)),r}}return!1},g.prototype.import=function(t){var e=!1;if(!i(t))return!1;if((t=s({lineDelimiter:"\n",columnDelimiter:","},t)).data.length||i(t.data)){if("csv"===t.type){e={data:[]};var r=t.data.split(t.lineDelimiter);r.length&&(t.headings&&(e.headings=r[0].split(t.columnDelimiter),r.shift()),n(r,function(i,a){e.data[a]=[];var s=i.split(t.columnDelimiter);s.length&&n(s,function(t){e.data[a].push(t)})}))}else if("json"===t.type){var o=function(t){var e=!1;try{e=JSON.parse(t)}catch(t){return!1}return!(null===e||!a(e)&&!i(e))&&e}(t.data);o&&(e={headings:[],data:[]},n(o,function(t,i){e.data[i]=[],n(t,function(t,a){e.headings.includes(a)||e.headings.push(a),e.data[i].push(t)})}))}i(t.data)&&(e=t.data),e&&this.insert(e)}return!1},g.prototype.print=function(){var t=this.activeHeadings,e=this.activeRows,i=o("table"),a=o("thead"),s=o("tbody"),r=o("tr");n(t,function(t){r.appendChild(o("th",{html:t.textContent}))}),a.appendChild(r),n(e,function(t){var e=o("tr");n(t.cells,function(t){e.appendChild(o("td",{html:t.textContent}))}),s.appendChild(e)}),i.appendChild(a),i.appendChild(s);var l=window.open();l.document.body.appendChild(i),l.print()},g.prototype.setMessage=function(t){var e=1;this.hasRows?e=this.data[0].cells.length:this.activeHeadings.length&&(e=this.activeHeadings.length),d.add(this.wrapper,"dataTable-empty"),this.label&&(this.label.innerHTML=""),this.totalPages=0,this.render("pager"),this.clear(o("tr",{html:'<td class="dataTables-empty" colspan="'+e+'">'+t+"</td>"}))},g.prototype.columns=function(t){return new u(this,t)},g.prototype.rows=function(t){return new p(this,t)},g.prototype.on=function(t,e){this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e)},g.prototype.off=function(t,e){this.events=this.events||{},t in this.events!=!1&&this.events[t].splice(this.events[t].indexOf(e),1)},g.prototype.emit=function(t){var e=arguments;if(this.events=this.events||{},t in this.events!=!1)for(var i=0;i<this.events[t].length;i++)this.events[t][i].apply(this,Array.prototype.slice.call(e,1))}}}});
//# sourceMappingURL=index.js.map
